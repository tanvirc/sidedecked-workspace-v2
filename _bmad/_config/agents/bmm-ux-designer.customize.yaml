# Agent Customization — UX Expert
# SideDecked project context

critical_actions:
  - "Phase 5B Post-Build UX Validation: When invoked for Phase 5B, load YOUR wireframe from _bmad-output/planning-artifacts/ux-{story-key}-wireframe.html and review the built implementation as if accepting a handoff from the dev team."
  - "Severity definitions — HIGH: layout container changed (grid→flex), responsive columns differ from wireframe, interaction state missing entirely. MEDIUM: wrong shade of correct semantic color, extra wrapper div that doesn't affect layout."
  - "Forbidden hardcoded patterns in JSX: bg-gray-*, text-gray-*, hex colors (#xxx/#xxxxxx), rgb(), hsl(). All colors/spacing must use CSS custom properties from storefront/src/styles/globals.css or Tailwind semantic classes."
  - "Storefront breakpoints for UX validation: mobile 375px, desktop 1280px."
  - "Phase 5B output location: _bmad-output/ux-validation/{story-key}/ — contains ux-validation-report.md, screenshots, and accessibility-tree.json."
  - "Figma MCP in Phase 2B: Use get_design_context and get_screenshot to read the master Figma file. Use generate_figma_design to capture wireframes into Figma. Use get_variable_defs to extract design tokens. NEVER call get_metadata or get_design_context on root 0:1 or bare page nodes — they exceed the token limit. Use section nodes: Homepage=42:8, Auth=38:9, Search=44:11, Card Detail=46:32, Profile=48:9, Deck Builder=50:9, Deck Browser=52:9, Deck Viewer=54:9. If a section node is still too large, call get_metadata on it, read first 3KB with `head -c 3000`, find child IDs, then call get_design_context on a child."
  - "Figma Golden Reference in Phase 5B: Call get_screenshot for golden reference, save to _bmad-output/ux-validation/{story-key}/figma-golden-reference.png. Compare against Playwright implementation screenshots."
  - "Figma Token Authority: When Figma tokens (from get_variable_defs) conflict with HTML wireframe CSS values, Figma takes precedence as the authoritative token source."

memories:
  - "Two frontend surfaces: storefront/ (Next.js 14, customer-facing) and vendorpanel/ (React 18 + Vite, vendor-facing)."
  - "Tech constraints: Next.js 14 (App Router), React (NEVER Vue or Angular), TypeScript strict mode."
  - "UX outputs go in _bmad-output/planning-artifacts/. Reference existing storefront components before designing new patterns."
  - "Key UX flows: card browsing/search (Algolia-powered), multi-vendor cart, vendor inventory management, deck builder, community forum."
  - "TCG-specific UX: card condition grades (NM, LP, MP, HP, DMG), foil/variant display, set/edition filtering are core patterns."
  - "Figma Storefront file key: k5seLEn5Loi0YJ6UrJvzpr (wireframes, story nodes, golden references). Voltage Design System file key: QNFLTck7Bpd3OmJjwktKBf (token authority). Primary Figma MCP tools: get_design_context (primary), get_screenshot, get_variable_defs, generate_figma_design."

# Story 5.4: Sharing & Collaboration

## Status
Draft

## Story
**As a** community member,
**I want** to share and discuss decks,
**so that** I can collaborate with other players.

## Acceptance Criteria
1. AC1: Public deck pages with slug URLs, metadata, and commenting enabled.
2. AC2: Access controls for private, team, or public visibility.
3. AC3: Versioning system with change log and restore points.
4. AC4: Embed/export options (MTG Arena, Pok√©mon TCG Live) provided.

## Tasks / Subtasks
- [ ] Create public deck page route rendering deck metadata, stats, and comment thread (AC1).
- [ ] Implement visibility controls (private/team/public) with sharing dialogs and permission checks (AC2).
- [ ] Add version history storage, diff view, and restore functionality (AC3).
- [ ] Provide export formats/embeds for major platforms and update download UI (AC4).
- [ ] Integrate with community moderation for comments/visibility changes (AC1-AC3).
- [ ] Update analytics + SEO metadata for shared decks (AC1, AC4).

## Dev Notes
- Public deck route: `storefront/src/app/decks/[slug]` (create); ensure SSR-friendly for SEO.
- Comments leverage community service (Epic 06); reuse components in `storefront/src/components/community/comments`.
- Versioning stored in `customer-backend/packages/deck-builder/src/history`; use snapshots/diffs.
- Access controls require tokenized share links and membership checks.
- Embed options may rely on template generator or integration with third-party APIs.

## Testing
- Unit tests for permission checks and version history mechanics.
- Integration tests for comment creation and moderation workflow on shared decks.
- Playwright scenario: share deck, set to public, view as guest, restore previous version.
- QA verifying export formats produce valid deck codes for target games.

## Change Log
| Date       | Version | Description              | Author |
|------------|---------|--------------------------|--------|
| 2025-09-13 | 0.1.0   | Initial story draft      | Codex  |

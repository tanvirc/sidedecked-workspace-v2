# Story 07.1: Pricing Dashboard

## Status
Draft

## Story
**As a** customer,
**I want** a pricing dashboard with historical trends,
**so that** I can track market movements for my cards.

## Acceptance Criteria
1. AC1: Charts display historical median, low, and high prices per card/condition.
2. AC2: Filters for game, set, foil, language, and vendor type.
3. AC3: Data points include confidence intervals and change indicators (24h, 7d, 30d).
4. AC4: Dashboard responsive across desktop/mobile with cached chart data.

## Tasks / Subtasks
- [ ] Build pricing analytics API endpoint delivering aggregated time series data (AC1).
- [ ] Implement frontend dashboard components with charting library (AC1, AC3).
- [ ] Add filtering UI and query params to refine dataset (AC2).
- [ ] Compute deltas/confidence metrics during data processing (AC3).
- [ ] Introduce caching layer for chart payloads and responsive layout checks (AC4).
- [ ] Document KPI definitions and chart usage guidance (AC1-AC4).

## Dev Notes
- Analytics tables: create materialized views or aggregated tables under `customer-backend/packages/pricing/`.
- Charting in storefront may leverage `recharts` or `visx`; ensure SSR compatibility.
- Filters should sync with URL for shareability.
- Caching: use Redis or edge caching; record TTL in architecture notes.
- Ensure accessibility (ARIA descriptions) for charts.

## Testing
- Backend unit/integration tests verifying aggregation outputs for sample data.
- Frontend component tests ensuring filters update charts.
- Visual regression tests for dashboard layout across breakpoints.
- Performance tests verifying API latency within acceptable range (<200ms).

## Change Log
| Date       | Version | Description              | Author |
|------------|---------|--------------------------|--------|
| 2025-09-12 | 0.1.0   | Initial story draft      | Codex  |

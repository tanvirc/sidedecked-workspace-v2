# Story 1.2: Guided Account Onboarding

## Status
Draft

## Story
**As a** newly registered user,
**I want** a guided onboarding flow,
**so that** I can configure my profile and choose customer or vendor journeys.

## Acceptance Criteria
1. AC1: Three-step wizard (Profile → Role Selection → Preferences) supports forward/back navigation with persistence.
2. AC2: Required inputs (display name, region, vendor business info) validated before progression.
3. AC3: Preferences capture interested TCGs and notification toggles stored in customer backend.
4. AC4: Users can skip optional steps and resume onboarding from settings later.

## Tasks / Subtasks
- [ ] Extend onboarding wizard UI to include profile, role, and preference steps with progress indicator (AC1).
- [ ] Implement client-side validation and error messaging for required fields; disable continue until valid (AC2).
- [ ] Persist onboarding data via backend API, including preferences routed to customer backend service (AC3).
- [ ] Store wizard state (API + local storage) and surface resume entry point in account settings (AC4).
- [ ] Update analytics/telemetry events for step completion and skips (AC4).
- [ ] Add documentation for onboarding flow and update QA notes in epic file (AC1-AC4).

## Dev Notes
- Storefront components live under `storefront/src/components/onboarding/`; reuse existing seller flow patterns.
- Backend endpoints should live in `backend/src/modules/auth` (user profile) and `customer-backend/src/services/preferences` for TCG selections.
- Persist wizard state per user; consider feature flagging vendor-only steps when role not requested.
- Resume link should appear in `storefront/src/app/(auth)/user/settings` with CTA to continue onboarding.
- Ensure GDPR compliance when storing notification preferences—respect default opt-outs.

## Testing
- Component tests covering validation and navigation (React Testing Library).
- Integration tests for onboarding API endpoints ensuring data persisted correctly.
- Playwright scenario: new user completes wizard, skips optional steps, resumes later.
- Verify analytics events emitted using existing telemetry mocking utilities.

## Change Log
| Date       | Version | Description              | Author |
|------------|---------|--------------------------|--------|
| 2025-09-13 | 0.1.0   | Initial story draft      | Codex  |

# Story 9.3: Inventory Dashboard & Alerts

## Status
Draft

## Story
**As a** vendor,
**I want** visibility into stock health,
**so that** I can act quickly on inventory issues.

## Acceptance Criteria
1. AC1: Dashboard shows real-time stock levels, reserved quantities, and aging inventory.
2. AC2: Threshold-based alerts for low stock or stale products trigger notifications automatically.
3. AC3: Manual adjustment tools with reason codes and approval workflow available.
4. AC4: Exports provided for reconciliation with external systems.

## Tasks / Subtasks
- [ ] Build inventory dashboard API aggregating stock metrics and reservations (AC1).
- [ ] Implement vendor panel dashboard UI with charts, filters, and alert indicators (AC1-AC2).
- [ ] Configure alerts (thresholds) and notification dispatch for low stock/stale inventory (AC2).
- [ ] Add manual adjustment UI/API capturing reason codes and approvals (AC3).
- [ ] Provide export endpoint (CSV) for inventory snapshot and adjustment history (AC4).
- [ ] Document reconciliation process and link to support materials (AC4).

## Dev Notes
- Metrics derived from inventory tables in `backend/src/modules/inventory`; consider materialized views.
- UI page `vendorpanel/src/pages/inventory/dashboard` (new) with design system components.
- Alerts integrate with notification service; allow vendor-configurable thresholds.
- Manual adjustments must audit old/new values and approver identity.
- Exports stored temporarily (MinIO) with expiration to avoid stale data exposure.

## Testing
- Unit tests for aggregation queries and alert trigger logic.
- Integration tests for manual adjustments workflow (request → approval → audit log).
- Playwright scenario: vendor reviews dashboard, sets thresholds, receives alert, exports report.
- QA verifying notification accuracy and export file integrity.

## Change Log
| Date       | Version | Description              | Author |
|------------|---------|--------------------------|--------|
| 2025-09-13 | 0.1.0   | Initial story draft      | Codex  |

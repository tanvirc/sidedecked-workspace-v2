# Story 6.3: Reputation & Badges

## Status
Draft

## Story
**As a** user,
**I want** recognition for contributions,
**so that** I stay motivated to engage with the community.

## Acceptance Criteria
1. AC1: Reputation points awarded for verified purchases, helpful comments, deck popularity.
2. AC2: Badge system with unlock criteria and display on profiles.
3. AC3: Anti-abuse checks prevent farming through rate limits and anomaly detection.
4. AC4: Leaderboards by game with filterable time ranges.

## Tasks / Subtasks
- [ ] Design reputation scoring service ingesting events (purchases, comments, deck stats) (AC1).
- [ ] Implement badge definitions, unlock logic, and profile display components (AC2).
- [ ] Add anti-abuse monitors/rate limits and anomaly detection heuristics (AC3).
- [ ] Build leaderboards API + storefront UI with filters by game/time range (AC4).
- [ ] Provide admin tooling to adjust points/badges manually if needed (AC2-AC3).
- [ ] Document scoring rules and share with community management (AC1-AC4).

## Dev Notes
- Reputation service in `customer-backend/packages/community/reputation` processing event queue.
- Badges stored in metadata table; display on profile page `storefront/src/app/(community)/users/[id]`.
- Anti-abuse may leverage existing fraud detection; log suspicious activity for review.
- Leaderboards should paginate and include caching to meet performance targets.
- Ensure GDPR compliance for public leaderboards (allow opt-out if required).

## Testing
- Unit tests for scoring logic, badge unlock conditions, anti-abuse triggers.
- Integration tests verifying events increment points and badges update on profiles.
- Playwright scenario: user reaches badge threshold, sees update, appears on leaderboard.
- QA to simulate abuse patterns confirming throttling and alerts.

## Change Log
| Date       | Version | Description              | Author |
|------------|---------|--------------------------|--------|
| 2025-09-13 | 0.1.0   | Initial story draft      | Codex  |
